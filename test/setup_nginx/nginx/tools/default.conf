server {
    listen 8080;

    server_name localhost;


    location ~ ^/cgi-bin/.*\.py {
        include fastcgi_params;
        
        fastcgi_pass 127.0.0.1:9000;  # Asegúrate de que fcgiwrap esté escuchando en este puerto
        fastcgi_param SCRIPT_FILENAME /usr/lib$fastcgi_script_name;  # Ruta completa del script
        fastcgi_param DOCUMENT_ROOT /usr/lib/cgi-bin;  # Asegúrate de que apunte al directorio correcto
    }


	error_page 400 /cgi-bin/400.html;
	location = /cgi-bin/400.html {
		root /usr/lib/;
	}
    error_log /var/log/nginx/error.log;
    access_log /var/log/nginx/access.log;
}


server {
    listen 8081 ;  # Este bloque actúa como el servidor por defecto para las solicitudes en el puerto 8080.
    server_name example.com;  # "_" significa que este servidor actuará como el servidor predeterminado cuando no coincidan otros nombres de servidor.

    location / {
        root /usr/lib/; 
        autoindex on;
    }

}